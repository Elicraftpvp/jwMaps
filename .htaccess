# Ativa o motor de reescrita de URL
RewriteEngine On
RewriteBase /

# Regra 1: Link curto para mapas individuais
RewriteRule ^mapa/([a-zA-Z0-9]+)$ site/backend/vista_publica.php?token=$1 [L,QSA]

# Regra NOVA: Link curto para mapas de GRUPOS
RewriteRule ^grupo/([a-zA-Z0-9]+)$ site/backend/vista_grupo.php?token=$1 [L,QSA]

# Regra 2: Login
RewriteRule ^login/?$ login.html [L]

# Regra 3: Dashboard
RewriteRule ^dashboard/?$ site/index.html [L]

# Regra 4: Correção de caminhos estáticos
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{DOCUMENT_ROOT}/site%{REQUEST_URI} -f
RewriteRule . site%{REQUEST_URI} [L]

# Regra 5: Roteador principal
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . index.html [L]